<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The disc Programming Language -- Create Something New</title>

    <link rel="stylesheet" href="./styles/codemirror.css">
    <link rel="stylesheet" href="./styles/panda-syntax.css">
    <link rel="stylesheet" href="./styles/fullscreen.css">
    
    <link rel="stylesheet" href="./styles/bootstrap.min.css">

    <link rel="stylesheet" href="./styles/styles.css">

</head>

<body id="build">
    <header class="container">
        <h1>The <em>disc</em> Language : Create Something New</h1>
        <nav class="nav navbar">
            <ul class="nav-list text-center">
                <li><a href="./" id="home-link">home</a></li>
                <li><a href="./getting-started.html" id="getting-started-link">getting started</a></li>
                <li><a href="./build.html" id="build-link">create something</a></li>
                <li><a href="./command-reference.html" id="command-reference-link">language reference</a></li>
            </ul>
        </nav>
    </header>

    <div class="container control-set">
        <div class="row" id="code-view">
            <div class="col-md-9 col-sm-12 order-md-2 editor-container">
                <div class="row">
                    <div class="col-3">
                        <select name="function-declarations" id="function-declarations">
                            <option value="">Function Declarations</option>
                        </select>
                    </div>
                    <div class="col-9 text-right">
                        <a href="#" id="view-full-screen" title="Press F9 for full screen">View Code Full Screen (Esc to
                            quit)</a>
                    </div>    
    
                </div>
                <div class="row source-editor-container">
                    <textarea name="program-source" id="source-editor" cols="30" rows="20"></textarea>
                </div>
            </div>

            <div class="col-md-3 col-sm-12 order-md-1">
                <h4>Build Something</h4>
                <div>
                    <button id="new-program" class="btn btn-outline-secondary">New Program</button>
                </div>
                <hr>
                <h4>See Examples</h4>
                <select name="example-code" id="example-code" class="form-control">
                </select>
                <button id="load-example" class="btn btn-outline-secondary">Load Example</button>
                <hr>
                <div>
                    <button id="run-button" class="btn btn-primary" data-toggle="modal" data-target="#code-modal">
                        (re)Run This Program
                    </button>

                    <button id="open-display" class="btn btn-outline-secondary" data-toggle="modal"
                        data-target="#code-modal">
                        Open Program Window
                    </button>
                </div>
            </div>
        </div>

    </div>

    <div class="modal bd-example-modal-lg" id="code-modal" tabindex="-1" role="dialog"
        aria-labelledby="ProgramOutputScreen" aria-hidden="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <pre id="code-output"></pre>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="./scripts/codemirror.js"></script>

    <script src="./scripts/simple-mode.js"></script>
    <script src="./scripts/disc-lang-mode.js"></script>

    <script src="./scripts/fullscreen.js"></script>

    <script src="./scripts/web-interface.js"></script>
    <script src="./scripts/disc-lang.min.js"></script>

    <script src="./scripts/sample-programs.js"></script>

    <script src="./scripts/code-tooling.js"></script>

    <script>
        const editorTextarea = document.getElementById('source-editor');

        editorTextarea.value = getCurrentSource();

        var editor = CodeMirror.fromTextArea(editorTextarea, {
            lineNumbers: true,
            lineWrapping: true,
            mode: { name: 'disc-lang' },
            theme: "panda-syntax",
            indentUnit: 4,
            extraKeys: {
                "Ctrl-Space": "autocomplete",
                "F9": function (editor) {
                    editor.setOption("fullScreen", true);
                },
                "Esc": function (editor) {
                    editor.setOption("fullScreen", false);
                }
            }
        });
    </script>

</body>

</html>