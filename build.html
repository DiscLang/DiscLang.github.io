<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The disc Programming Language -- Create Something New</title>

    <link rel="stylesheet" href="./styles/codemirror.css">
    <link rel="stylesheet" href="./styles/panda-syntax.css">
    <link rel="stylesheet" href="./styles/fullscreen.css">
    <link rel="stylesheet" href="./styles/bootstrap.min.css">

    <link rel="stylesheet" href="./styles/styles.css">

</head>

<body>
    <header class="container">
        <h1>The disc Language : Create Something New</h1>
        <nav class="nav navbar">
            <ul class="nav-list text-center">
                <li><a href="./">home</a></li>
                <li><a href="./build.html">create something</a></li>
                <li><a href="./command-reference.html">language reference</a></li>
            </ul>
        </nav>
    </header>

    <div class="container control-set">
        <div class="row">
            <div class="col-8">
                <select name="example-code" id="example-code">
                </select>
                <button id="load-example">Load Example</button>
                <button id="new-program">New Program</button>
            </div>
            <div class="col-4 text-right">
                <a href="#" id="view-full-screen" title="Press F9 for full screen">View Code Full Screen (Esc to quit)</a> |
                <a href="#" id="toggle-code-view">Hide Code</a>
            </div>
        </div>
        <div class="row" id="code-view">
            <div class="col-12">
                <textarea name="program-source" id="source-editor" cols="30" rows="10"></textarea>
            </div>
        </div>

        <div class="row control-set">
            <div class="col-md-10 col-sm-8 col-xs-6">
                <a href="#" id="run-button">Run your program &gt;&gt;</a>
            </div>

            <div class="col-md-2 col-sm-4  col-xs-6 text-right">
                <a href="#" id="clear-button">Clear output <span class="clear-marker text-center">X</span></a>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div id="code-output">
                    &nbsp;
                </div>
            </div>
        </div>
    </div>

    <script src="./scripts/codemirror.js"></script>

    <script src="./scripts/simple-mode.js"></script>
    <script src="./scripts/disc-lang-mode.js"></script>

    <script src="./scripts/fullscreen.js"></script>

    <script src="./scripts/web-interface.js"></script>
    <script src="./scripts/disc-lang.min.js"></script>

    <script src="./scripts/sample-programs.js"></script>

    <script src="./scripts/code-tooling.js"></script>

    <script>
        const editorTextarea = document.getElementById('source-editor');

        editorTextarea.value = getCurrentSource();

        var editor = CodeMirror.fromTextArea(editorTextarea, {
            extraKeys: { "Ctrl-Space": "autocomplete" },
            lineNumbers: true,
            lineWrapping: true,
            mode: { name: 'disc-lang' },
            theme: "panda-syntax",
            indentUnit: 4,
            extraKeys: {
                "F9": function (editor) {
                    editor.setOption("fullScreen", true);
                },
                Esc: function (editor) {
                    editor.setOption("fullScreen", false);
                }
            }
        });

        editor.on('change', function (editor) {
            saveCurrentSource(editor);
        });
    </script>

</body>

</html>